<html lang="en">
<!--
  Copyright (c) 2019. TIBCO Software Inc.
  This file is subject to the license terms contained
  in the license file that is distributed with this file.
-->

<head>
  <title>Demo Wrapper for TIBCO Spotfire(R) - samples</title>
</head>

<body>
  <h1>Demo Wrapper for TIBCO Spotfire&trade; - Set Filter
    <select onchange="location=this.value" style='float:right'>
      <option value="index.html">Basic sample with one dashboard</option>
      <option value="two.html">With two dashboards</option>
      <option value="cust.html">Customize dashboards</option>
      <option selected value="filter.html">Set Filter</option>
      <option value="marking.html">Get Marking</option>
      <option value="new.html">Attach new dashboard</option>
    </select>
  </h1>

  <p><code>filters</code> attribute is used to set a filters that will be applied when dashboard opens:</p>

  <h2>Code:</h2>
  <pre style='border:2px dashed green; background-color:black; color:white; padding:20px;'>
&lt;<span style='color:yellow'>spotfire-viewer</span>
    url="https://spotfire-next.cloud.tibco.com"
    path="Samples/Introduction to Spotfire" 
    page="Sales Performance"
    <span style='color:red'>filters</span>='[{"dataTableName": "SalesAndMarketing", "dataColumnName": "State", "filterSettings": { "values": ["California", "Arizona"]}}]'&gt;
&lt;/<span style='color:yellow'>spotfire-viewer</span>&gt;

&lt;<span style='color:yellow'>script</span> src="./spotfire-wrapper.js" &gt;&lt;/<span style='color:yellow'>script</span>&gt;</pre>

  <code>filters</code> is an array made of
  <pre>
  [{
    "dataTableName": "<i>&lt;data table name&gt;</i>",
    "dataColumnName": "<i>&lt;data column name&gt;</i>"
    "filterSettings": { <i>&lt;filter settings&gt;</i>" }
  }, ... {
    "dataTableName": "<i>&lt;data table name&gt;</i>",
    "dataColumnName": "<i>&lt;data column name&gt;</i>"
    "filterSettings": { <i>&lt;filter settings&gt;</i>" }
  }]
</pre>

  <h2>Result:</h2>
  <spotfire-viewer id="id1" sid="sid1" 
                    url="https://spotfire-next.cloud.tibco.com"
                    path="Samples/Sales and Marketing"
                    page="Sales Performance"
                    customization='{"showAuthor":true, "showFilterPanel":true, "showToolBar":true}' 
                    filters='[{"dataTableName": "SalesAndMarketing", "dataColumnName": "State", "filterSettings": { "values": ["California", "Arizona"]}}]'></spotfire-viewer>
  </spotfire-viewer>

  <script src="./spotfire-wrapper.js"></script>

</body>
</html>